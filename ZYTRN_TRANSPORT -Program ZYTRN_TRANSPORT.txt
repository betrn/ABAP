*&---------------------------------------------------------------------*
*& Report  ZYTRN_TRANSPORT                                             *
*&                                                                     *
*&---------------------------------------------------------------------*
*&                                                                     *
*&                                                                     *
*&---------------------------------------------------------------------*

REPORT  ZYTRN_TRANSPORT               .
data: ok_code     like sy-ucomm,
      wn_ligne(3) type n.
tables: vttk,
        *vttk,
        vtts.
*
INCLUDE avwrtcxm.
*
call screen 100.
*&---------------------------------------------------------------------*
*&      Module  USER_COMMAND_0100  INPUT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
module USER_COMMAND_0100 input.
  case ok_code(4).
    when 'DISP'.
      SELECT SINGLE * FROM  vttk CLIENT SPECIFIED
             WHERE  mandt  = sy-mandt
             AND    tknum  = vttk-tknum.
      if sy-subrc <> 0.
        message e899(zz).
      endif.
      set screen 200.
    when others.
      set screen 100.
  endcase.
endmodule.                 " USER_COMMAND_0100  INPUT
*&---------------------------------------------------------------------*
*&      Module  USER_COMMAND_0200  INPUT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
module USER_COMMAND_0200 input.
  case ok_code(4).
    when 'NEXT'.
      set screen 100.
    when others.
      set screen 200.
  endcase.
endmodule.                 " USER_COMMAND_0200  INPUT
*&---------------------------------------------------------------------*
*&      Module  STATUS_0200  OUTPUT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
module STATUS_0200 output.
  wn_ligne = 1.
  SELECT        * FROM  vtts CLIENT SPECIFIED
         WHERE  mandt  = sy-mandt
         AND    tknum  = vttk-tknum.
    field-set 'TSNUM'     wn_ligne vtts-tsnum.
    field-set 'ABORT01'   wn_ligne vtts-abort01.
    field-set 'EDORT01'   wn_ligne vtts-edort01.
    ADD 1 TO wn_ligne.
  ENDSELECT.
  field-transport.
endmodule.                 " STATUS_0200  OUTPUT
*&---------------------------------------------------------------------*
*&      Module  STATUS_0100  OUTPUT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
module STATUS_0100 output.
  wn_ligne = 1.
  SELECT        * FROM  *vttk CLIENT SPECIFIED up to 500 rows
         WHERE  mandt  = sy-mandt.
    field-set 'TKNUM'     wn_ligne *vttk-tknum+2(8).
    ADD 1 TO wn_ligne.
  ENDSELECT.
  field-transport.
endmodule.                 " STATUS_0100  OUTPUT
